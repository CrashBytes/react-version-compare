const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DcgnPRd2.js","./jsx-runtime-DPSAtiSO.js","./iframe-CYuPgI8R.js"])))=>i.map(i=>d[i]);
import{j as E}from"./jsx-runtime-DPSAtiSO.js";import{_ as Ge,r as ye}from"./iframe-CYuPgI8R.js";var oe={},se,Le;function Me(){return Le||(Le=1,se=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.prototype}),se}var me;function be(){return me||(me=1,function(e){var n=Me();e.BLOCKS=void 0,function(u){u.DOCUMENT="document",u.PARAGRAPH="paragraph",u.HEADING_1="heading-1",u.HEADING_2="heading-2",u.HEADING_3="heading-3",u.HEADING_4="heading-4",u.HEADING_5="heading-5",u.HEADING_6="heading-6",u.OL_LIST="ordered-list",u.UL_LIST="unordered-list",u.LIST_ITEM="list-item",u.HR="hr",u.QUOTE="blockquote",u.EMBEDDED_ENTRY="embedded-entry-block",u.EMBEDDED_ASSET="embedded-asset-block",u.EMBEDDED_RESOURCE="embedded-resource-block",u.TABLE="table",u.TABLE_ROW="table-row",u.TABLE_CELL="table-cell",u.TABLE_HEADER_CELL="table-header-cell"}(e.BLOCKS||(e.BLOCKS={})),e.INLINES=void 0,function(u){u.ASSET_HYPERLINK="asset-hyperlink",u.EMBEDDED_ENTRY="embedded-entry-inline",u.EMBEDDED_RESOURCE="embedded-resource-inline",u.ENTRY_HYPERLINK="entry-hyperlink",u.HYPERLINK="hyperlink",u.RESOURCE_HYPERLINK="resource-hyperlink"}(e.INLINES||(e.INLINES={})),e.MARKS=void 0,function(u){u.BOLD="bold",u.ITALIC="italic",u.UNDERLINE="underline",u.CODE="code",u.SUPERSCRIPT="superscript",u.SUBSCRIPT="subscript",u.STRIKETHROUGH="strikethrough"}(e.MARKS||(e.MARKS={}));var t=function(u,d){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,s){c.__proto__=s}||function(c,s){for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(c[f]=s[f])},t(u,d)};function r(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");t(u,d);function c(){this.constructor=u}u.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}function a(u,d,c){if(c||arguments.length===2)for(var s=0,f=d.length,v;s<f;s++)(v||!(s in d))&&(v||(v=Array.prototype.slice.call(d,0,s)),v[s]=d[s]);return u.concat(v||Array.prototype.slice.call(d))}typeof SuppressedError=="function"&&SuppressedError;var i,o=[e.BLOCKS.PARAGRAPH,e.BLOCKS.HEADING_1,e.BLOCKS.HEADING_2,e.BLOCKS.HEADING_3,e.BLOCKS.HEADING_4,e.BLOCKS.HEADING_5,e.BLOCKS.HEADING_6,e.BLOCKS.OL_LIST,e.BLOCKS.UL_LIST,e.BLOCKS.HR,e.BLOCKS.QUOTE,e.BLOCKS.EMBEDDED_ENTRY,e.BLOCKS.EMBEDDED_ASSET,e.BLOCKS.EMBEDDED_RESOURCE,e.BLOCKS.TABLE],l=[e.BLOCKS.PARAGRAPH,e.BLOCKS.HEADING_1,e.BLOCKS.HEADING_2,e.BLOCKS.HEADING_3,e.BLOCKS.HEADING_4,e.BLOCKS.HEADING_5,e.BLOCKS.HEADING_6,e.BLOCKS.OL_LIST,e.BLOCKS.UL_LIST,e.BLOCKS.HR,e.BLOCKS.QUOTE,e.BLOCKS.EMBEDDED_ENTRY,e.BLOCKS.EMBEDDED_ASSET,e.BLOCKS.EMBEDDED_RESOURCE],h=[e.BLOCKS.TABLE,e.BLOCKS.TABLE_ROW,e.BLOCKS.TABLE_CELL,e.BLOCKS.TABLE_HEADER_CELL],L=[e.BLOCKS.HR,e.BLOCKS.EMBEDDED_ENTRY,e.BLOCKS.EMBEDDED_ASSET,e.BLOCKS.EMBEDDED_RESOURCE],p=(i={},i[e.BLOCKS.OL_LIST]=[e.BLOCKS.LIST_ITEM],i[e.BLOCKS.UL_LIST]=[e.BLOCKS.LIST_ITEM],i[e.BLOCKS.LIST_ITEM]=l,i[e.BLOCKS.QUOTE]=[e.BLOCKS.PARAGRAPH],i[e.BLOCKS.TABLE]=[e.BLOCKS.TABLE_ROW],i[e.BLOCKS.TABLE_ROW]=[e.BLOCKS.TABLE_CELL,e.BLOCKS.TABLE_HEADER_CELL],i[e.BLOCKS.TABLE_CELL]=[e.BLOCKS.PARAGRAPH,e.BLOCKS.UL_LIST,e.BLOCKS.OL_LIST],i[e.BLOCKS.TABLE_HEADER_CELL]=[e.BLOCKS.PARAGRAPH],i),y=[e.BLOCKS.HEADING_1,e.BLOCKS.HEADING_2,e.BLOCKS.HEADING_3,e.BLOCKS.HEADING_4,e.BLOCKS.HEADING_5,e.BLOCKS.HEADING_6],A=a([e.BLOCKS.PARAGRAPH],y,!0),B=[e.BLOCKS.DOCUMENT,e.BLOCKS.PARAGRAPH,e.BLOCKS.HEADING_1,e.BLOCKS.HEADING_2,e.BLOCKS.HEADING_3,e.BLOCKS.HEADING_4,e.BLOCKS.HEADING_5,e.BLOCKS.HEADING_6,e.BLOCKS.OL_LIST,e.BLOCKS.UL_LIST,e.BLOCKS.LIST_ITEM,e.BLOCKS.HR,e.BLOCKS.QUOTE,e.BLOCKS.EMBEDDED_ENTRY,e.BLOCKS.EMBEDDED_ASSET,e.INLINES.HYPERLINK,e.INLINES.ENTRY_HYPERLINK,e.INLINES.ASSET_HYPERLINK,e.INLINES.EMBEDDED_ENTRY,"text"],_=[e.MARKS.BOLD,e.MARKS.CODE,e.MARKS.ITALIC,e.MARKS.UNDERLINE],D={nodeType:e.BLOCKS.DOCUMENT,data:{},content:[{nodeType:e.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};function S(u,d){for(var c=0,s=Object.keys(u);c<s.length;c++){var f=s[c];if(d===u[f])return!0}return!1}function m(u){return S(e.INLINES,u.nodeType)}function N(u){return S(e.BLOCKS,u.nodeType)}function I(u){return u.nodeType==="text"}var g=Object.freeze({__proto__:null,isBlock:N,isInline:m,isText:I}),T=function(u){var d=u.path,c=u.property,s=u.typeName,f=u.value;return{details:'The type of "'.concat(c,'" is incorrect, expected type: ').concat(s),name:"type",path:d.toArray(),type:s,value:f}},G=function(u){var d=u.min,c=u.value,s=u.path;return{name:"size",min:d,path:s.toArray(),details:"Size must be at least ".concat(d),value:c}},P=function(u){var d=u.max,c=u.value,s=u.path;return{name:"size",max:d,path:s.toArray(),details:"Size must be at most ".concat(d),value:c}},Y=function(u){var d=u.expected,c=u.value,s=u.path;return{details:"Value must be one of expected values",name:"in",expected:a([],d,!0).sort(),path:s.toArray(),value:c}},M=function(u){var d=u.property,c=u.path;return{details:'The property "'.concat(d,'" is not expected'),name:"unexpected",path:c.toArray()}},$=function(u){var d=u.property,c=u.path;return{details:'The property "'.concat(d,'" is required here'),name:"required",path:c.toArray()}},j=function(){function u(d,c){var s=this;this.obj=d,this.path=c,this._errors=[],this.catch=function(){for(var f,v=[],O=0;O<arguments.length;O++)v[O]=arguments[O];(f=s._errors).push.apply(f,v)},this.exists=function(f){return f in s.obj?!0:(s.catch($({property:f,path:s.path.of(f)})),!1)},this.object=function(f){var v,O=f?s.obj[f]:s.obj;if(f&&!s.exists(f))return!1;if(n(O))return!0;var R=f?s.path.of(f):s.path,w=(v=f??s.path.last())!==null&&v!==void 0?v:"value";return s.catch(T({typeName:"Object",property:w,path:R,value:O})),!1},this.string=function(f){var v=s.obj[f];return f&&!s.exists(f)?!1:typeof v=="string"?!0:(s.catch(T({typeName:"String",property:f,path:s.path.of(f),value:v})),!1)},this.number=function(f,v){var O=s.obj[f];return v&&!(f in s.obj)?!0:s.exists(f)?typeof O=="number"&&!Number.isNaN(O)?!0:(s.catch(T({typeName:"Number",property:f,path:s.path.of(f),value:O})),!1):!1},this.array=function(f){var v=s.obj[f];return f&&!s.exists(f)?!1:Array.isArray(v)?!0:(s.catch(T({typeName:"Array",property:f,path:s.path.of(f),value:v})),!1)},this.enum=function(f,v){var O=s.obj[f];return typeof O=="string"&&v.includes(O)?!0:(s.catch(Y({expected:v,value:O,path:s.path.of(f)})),!1)},this.empty=function(f){if(!s.array(f))return!1;var v=s.obj[f];return v.length===0?!0:(s.catch(P({max:0,value:v,path:s.path.of(f)})),!1)},this.minLength=function(f,v){if(!s.array(f))return!1;var O=s.obj[f];return O.length>=v?!0:(s.catch(G({min:v,value:O,path:s.path.of(f)})),!1)},this.noAdditionalProperties=function(f){var v=Object.keys(s.obj).sort().filter(function(O){return!f.includes(O)});return v.forEach(function(O){return s.catch(M({property:O,path:s.path.of(O)}))}),v.length===0},this.each=function(f,v){if(s.array(f)){var O=s.obj[f],R=!1;O.forEach(function(w,Q){if(!R){var ee=v(w,s.path.of(f).of(Q));ee.length>0&&(R=!0),s.catch.apply(s,ee)}})}}}return Object.defineProperty(u.prototype,"errors",{get:function(){var d=this,c=function(s){return JSON.stringify({details:s.details,path:s.path})};return this._errors.filter(function(s,f){return d._errors.findIndex(function(v){return c(s)===c(v)})===f})},enumerable:!1,configurable:!0}),u}(),W=[],V=function(){function u(d,c){this.contentRule=d,this.validateData=c}return u.prototype.assert=function(d,c){var s,f,v=new j(d,c);if(!v.object())return v.errors;v.noAdditionalProperties(["nodeType","data","content"]);var O=Array.isArray(this.contentRule)?{nodeTypes:this.contentRule}:this.contentRule(d,c),R=O.nodeTypes,w=O.min,Q=w===void 0?0:w;if(R.length===0&&Q>0)throw new Error("Invalid content rule. Cannot have enforce a 'min' of ".concat(Q," with no nodeTypes"));if(v.minLength("content",Q),R.length===0?v.empty("content"):v.each("content",function(He,Pe){var ne=new j(He,Pe);return ne.object()&&ne.enum("nodeType",R),ne.errors}),v.object("data")){var ee=(f=(s=this.validateData)===null||s===void 0?void 0:s.call(this,d.data,c.of("data")))!==null&&f!==void 0?f:[];v.catch.apply(v,ee)}return v.errors},u}(),Z=function(u){r(d,u);function d(c,s){var f=u.call(this,s,function(v,O){return f.assertLink(v,O)})||this;return f.linkType=c,f.assertLink=function(v,O){var R=new j(v,O);if(R.object("target")){var w=new j(v.target.sys,O.of("target").of("sys"));w.object()&&(w.enum("type",[f.type]),w.enum("linkType",[f.linkType]),f.type==="Link"?(w.string("id"),w.noAdditionalProperties(["type","linkType","id"])):f.type==="ResourceLink"&&(w.string("urn"),w.noAdditionalProperties(["type","linkType","urn"]))),R.catch.apply(R,w.errors)}return R.noAdditionalProperties(["target"]),R.errors},f.type=f.linkType.startsWith("Contentful:")?"ResourceLink":"Link",f}return d}(V),k=function(u){r(d,u);function d(){var c=u.call(this,["text"],function(s,f){return c.assertLink(s,f)})||this;return c.assertLink=function(s,f){var v=new j(s,f);return v.string("uri"),v.noAdditionalProperties(["uri"]),v.errors},c}return d}(V),K=function(u,d){return new V(u,d)},b=function(u,d){return new Z(u,d)},ae=function(){function u(d){d===void 0&&(d=[]);var c=this;this.path=d,this.of=function(s){return new u(a(a([],c.path,!0),[s],!1))},this.isRoot=function(){return c.path.length===0},this.last=function(){return c.path[c.path.length-1]},this.toArray=function(){return c.path}}return u}();function ue(u,d){var c=new j(u,d);return c.object()&&(c.noAdditionalProperties(["nodeType","data","value","marks"]),c.object("data"),c.each("marks",function(s,f){var v=new j(s,f);return v.object()&&v.string("type"),v.errors}),c.string("value")),c.errors}var C,F=K(a(a([],Object.values(e.INLINES),!0),["text"],!1).sort()),ve=K([e.BLOCKS.LIST_ITEM]),he=b("Entry",W),pe=K(function(){return{nodeTypes:[e.BLOCKS.PARAGRAPH],min:1}},function(u,d){var c=new j(u,d);return c.noAdditionalProperties(["colspan","rowspan"]),c.number("colspan",!0),c.number("rowspan",!0),c.errors}),je=(C={},C[e.BLOCKS.DOCUMENT]=K(o),C[e.BLOCKS.PARAGRAPH]=F,C[e.BLOCKS.HEADING_1]=F,C[e.BLOCKS.HEADING_2]=F,C[e.BLOCKS.HEADING_3]=F,C[e.BLOCKS.HEADING_4]=F,C[e.BLOCKS.HEADING_5]=F,C[e.BLOCKS.HEADING_6]=F,C[e.BLOCKS.QUOTE]=K(p[e.BLOCKS.QUOTE]),C[e.BLOCKS.EMBEDDED_ENTRY]=he,C[e.BLOCKS.EMBEDDED_ASSET]=b("Asset",W),C[e.BLOCKS.EMBEDDED_RESOURCE]=b("Contentful:Entry",W),C[e.BLOCKS.HR]=K(W),C[e.BLOCKS.OL_LIST]=ve,C[e.BLOCKS.UL_LIST]=ve,C[e.BLOCKS.LIST_ITEM]=K(a([],l,!0).sort()),C[e.BLOCKS.TABLE]=K(function(){return{nodeTypes:[e.BLOCKS.TABLE_ROW],min:1}}),C[e.BLOCKS.TABLE_ROW]=K(function(){return{nodeTypes:[e.BLOCKS.TABLE_CELL,e.BLOCKS.TABLE_HEADER_CELL],min:1}}),C[e.BLOCKS.TABLE_CELL]=pe,C[e.BLOCKS.TABLE_HEADER_CELL]=pe,C[e.INLINES.HYPERLINK]=new k,C[e.INLINES.EMBEDDED_ENTRY]=he,C[e.INLINES.EMBEDDED_RESOURCE]=b("Contentful:Entry",W),C[e.INLINES.ENTRY_HYPERLINK]=b("Entry",["text"]),C[e.INLINES.ASSET_HYPERLINK]=b("Asset",["text"]),C[e.INLINES.RESOURCE_HYPERLINK]=b("Contentful:Entry",["text"]),C);function Ee(u,d){if(u.nodeType==="text")return ue(u,d);var c=je[u.nodeType].assert(u,d);if(c.length>0)return c;var s=new j(u,d);return s.each("content",function(f,v){return Ee(f,v)}),s.errors}var Ke=function(u){var d=new ae,c=new j(u,d);return c.object()&&c.enum("nodeType",[e.BLOCKS.DOCUMENT]),c.errors.length>0?c.errors:Ee(u,d)};e.CONTAINERS=p,e.EMPTY_DOCUMENT=D,e.HEADINGS=y,e.LIST_ITEM_BLOCKS=l,e.TABLE_BLOCKS=h,e.TEXT_CONTAINERS=A,e.TOP_LEVEL_BLOCKS=o,e.V1_MARKS=_,e.V1_NODE_TYPES=B,e.VOID_BLOCKS=L,e.helpers=g,e.validateRichTextDocument=Ke}(oe)),oe}var H=be();function Oe(e){return e&&typeof e=="object"&&e.nodeType===H.BLOCKS.DOCUMENT&&Array.isArray(e.content)}function _e(e){const n=t=>t.nodeType==="text"?t.value:"content"in t&&t.content?t.content.map(r=>n(r)).join(""):"";return n(e)}function Se(e){const n=[],t=r=>{if(r.nodeType!=="text"&&"content"in r&&r.content){const a=r.content.map(l=>l.nodeType==="text"?l.value:"").join("");let i=r.nodeType,o;switch(r.nodeType){case H.BLOCKS.HEADING_1:i="Heading",o=1;break;case H.BLOCKS.HEADING_2:i="Heading",o=2;break;case H.BLOCKS.HEADING_3:i="Heading",o=3;break;case H.BLOCKS.HEADING_4:i="Heading",o=4;break;case H.BLOCKS.HEADING_5:i="Heading",o=5;break;case H.BLOCKS.HEADING_6:i="Heading",o=6;break;case H.BLOCKS.PARAGRAPH:i="Text";break;case H.BLOCKS.UL_LIST:i="List";break;case H.BLOCKS.OL_LIST:i="Numbered List";break;case H.BLOCKS.LIST_ITEM:i="List Item";break;case H.BLOCKS.QUOTE:i="Quote";break;case H.BLOCKS.TABLE:i="Table";break;default:i=r.nodeType.charAt(0).toUpperCase()+r.nodeType.slice(1)}a.trim()&&n.push({type:i,content:a.trim(),level:o}),r.content.forEach(l=>{l.nodeType!=="text"&&t(l)})}};return e.content&&e.content.forEach(r=>t(r)),n}async function Ue(e,n,t,r,a){const i=await Ge(()=>import("./index-DcgnPRd2.js"),__vite__mapDeps([0,1,2]),import.meta.url),o=i.default??i,{diffWords:l,diffArrays:h}=o;if(t==="structure"){const L=Se(e),p=Se(n),y=h(L,p,{comparator:(S,m)=>S.type===m.type&&S.content===m.content&&S.level===m.level}),A=[],B=[];let _=0,D=0;return y.forEach(S=>{S.added?(S.value.forEach((m,N)=>{A.push(E.jsx("div",{className:"diff-blank-line"},`blank-orig-${D+N}`)),B.push(E.jsxs("div",{className:"diff-added-line",children:[E.jsx("span",{className:"diff-structure-type",children:m.type}),m.level&&E.jsxs("span",{className:"diff-structure-level",children:[" H",m.level]}),E.jsxs("span",{className:"diff-structure-content",children:[": ",m.content]})]},`added-mod-${D+N}`))}),D+=S.count||0):S.removed?(S.value.forEach((m,N)=>{A.push(E.jsxs("div",{className:"diff-removed-line",children:[E.jsx("span",{className:"diff-structure-type",children:m.type}),m.level&&E.jsxs("span",{className:"diff-structure-level",children:[" H",m.level]}),E.jsxs("span",{className:"diff-structure-content",children:[": ",m.content]})]},`removed-orig-${_+N}`)),B.push(E.jsx("div",{className:"diff-blank-line"},`blank-mod-${_+N}`))}),_+=S.count||0):(S.value.forEach((m,N)=>{A.push(E.jsxs("div",{className:"diff-unchanged-line",children:[E.jsx("span",{className:"diff-structure-type",children:m.type}),m.level&&E.jsxs("span",{className:"diff-structure-level",children:[" H",m.level]}),E.jsxs("span",{className:"diff-structure-content",children:[": ",m.content]})]},`unchanged-orig-${_+N}`)),B.push(E.jsxs("div",{className:"diff-unchanged-line",children:[E.jsx("span",{className:"diff-structure-type",children:m.type}),m.level&&E.jsxs("span",{className:"diff-structure-level",children:[" H",m.level]}),E.jsxs("span",{className:"diff-structure-content",children:[": ",m.content]})]},`unchanged-mod-${D+N}`))}),_+=S.count||0,D+=S.count||0)}),{originalParts:A,modifiedParts:B}}else{const L=_e(e),p=_e(n);return a(L,p)}}var z=function(){function e(){}return e.prototype.diff=function(n,t,r){r===void 0&&(r={});var a;typeof r=="function"?(a=r,r={}):"callback"in r&&(a=r.callback);var i=this.castInput(n,r),o=this.castInput(t,r),l=this.removeEmpty(this.tokenize(i,r)),h=this.removeEmpty(this.tokenize(o,r));return this.diffWithOptionsObj(l,h,r,a)},e.prototype.diffWithOptionsObj=function(n,t,r,a){var i=this,o,l=function(g){if(g=i.postProcess(g,r),a){setTimeout(function(){a(g)},0);return}else return g},h=t.length,L=n.length,p=1,y=h+L;r.maxEditLength!=null&&(y=Math.min(y,r.maxEditLength));var A=(o=r.timeout)!==null&&o!==void 0?o:1/0,B=Date.now()+A,_=[{oldPos:-1,lastComponent:void 0}],D=this.extractCommon(_[0],t,n,0,r);if(_[0].oldPos+1>=L&&D+1>=h)return l(this.buildValues(_[0].lastComponent,t,n));var S=-1/0,m=1/0,N=function(){for(var g=Math.max(S,-p);g<=Math.min(m,p);g+=2){var T=void 0,G=_[g-1],P=_[g+1];G&&(_[g-1]=void 0);var Y=!1;if(P){var M=P.oldPos-g;Y=P&&0<=M&&M<h}var $=G&&G.oldPos+1<L;if(!Y&&!$){_[g]=void 0;continue}if(!$||Y&&G.oldPos<P.oldPos?T=i.addToPath(P,!0,!1,0,r):T=i.addToPath(G,!1,!0,1,r),D=i.extractCommon(T,t,n,g,r),T.oldPos+1>=L&&D+1>=h)return l(i.buildValues(T.lastComponent,t,n))||!0;_[g]=T,T.oldPos+1>=L&&(m=Math.min(m,g-1)),D+1>=h&&(S=Math.max(S,g+1))}p++};if(a)(function g(){setTimeout(function(){if(p>y||Date.now()>B)return a(void 0);N()||g()},0)})();else for(;p<=y&&Date.now()<=B;){var I=N();if(I)return I}},e.prototype.addToPath=function(n,t,r,a,i){var o=n.lastComponent;return o&&!i.oneChangePerToken&&o.added===t&&o.removed===r?{oldPos:n.oldPos+a,lastComponent:{count:o.count+1,added:t,removed:r,previousComponent:o.previousComponent}}:{oldPos:n.oldPos+a,lastComponent:{count:1,added:t,removed:r,previousComponent:o}}},e.prototype.extractCommon=function(n,t,r,a,i){for(var o=t.length,l=r.length,h=n.oldPos,L=h-a,p=0;L+1<o&&h+1<l&&this.equals(r[h+1],t[L+1],i);)L++,h++,p++,i.oneChangePerToken&&(n.lastComponent={count:1,previousComponent:n.lastComponent,added:!1,removed:!1});return p&&!i.oneChangePerToken&&(n.lastComponent={count:p,previousComponent:n.lastComponent,added:!1,removed:!1}),n.oldPos=h,L},e.prototype.equals=function(n,t,r){return r.comparator?r.comparator(n,t):n===t||!!r.ignoreCase&&n.toLowerCase()===t.toLowerCase()},e.prototype.removeEmpty=function(n){for(var t=[],r=0;r<n.length;r++)n[r]&&t.push(n[r]);return t},e.prototype.castInput=function(n,t){return n},e.prototype.tokenize=function(n,t){return Array.from(n)},e.prototype.join=function(n){return n.join("")},e.prototype.postProcess=function(n,t){return n},Object.defineProperty(e.prototype,"useLongestToken",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.buildValues=function(n,t,r){for(var a=[],i;n;)a.push(n),i=n.previousComponent,delete n.previousComponent,n=i;a.reverse();for(var o=a.length,l=0,h=0,L=0;l<o;l++){var p=a[l];if(p.removed)p.value=this.join(r.slice(L,L+p.count)),L+=p.count;else{if(!p.added&&this.useLongestToken){var y=t.slice(h,h+p.count);y=y.map(function(A,B){var _=r[L+B];return _.length>A.length?_:A}),p.value=this.join(y)}else p.value=this.join(t.slice(h,h+p.count));h+=p.count,p.added||(L+=p.count)}}return a},e}(),We=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ke=function(e){We(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(z),Ye=new ke;function gn(e,n,t){return Ye.diff(e,n,t)}function ge(e,n){var t;for(t=0;t<e.length&&t<n.length;t++)if(e[t]!=n[t])return e.slice(0,t);return e.slice(0,t)}function Ce(e,n){var t;if(!e||!n||e[e.length-1]!=n[n.length-1])return"";for(t=0;t<e.length&&t<n.length;t++)if(e[e.length-(t+1)]!=n[n.length-(t+1)])return e.slice(-t);return e.slice(-t)}function fe(e,n,t){if(e.slice(0,n.length)!=n)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(n),"; this is a bug"));return t+e.slice(n.length)}function le(e,n,t){if(!n)return e+t;if(e.slice(-n.length)!=n)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(n),"; this is a bug"));return e.slice(0,-n.length)+t}function x(e,n){return fe(e,n,"")}function te(e,n){return le(e,n,"")}function Ae(e,n){return n.slice(0,$e(e,n))}function $e(e,n){var t=0;e.length>n.length&&(t=e.length-n.length);var r=n.length;e.length<n.length&&(r=e.length);var a=Array(r),i=0;a[0]=0;for(var o=1;o<r;o++){for(n[o]==n[i]?a[o]=a[i]:a[o]=i;i>0&&n[o]!=n[i];)i=a[i];n[o]==n[i]&&i++}i=0;for(var l=t;l<e.length;l++){for(;i>0&&e[l]!=n[i];)i=a[i];e[l]==n[i]&&i++}return i}function Cn(e){return e.includes(`\r
`)&&!e.startsWith(`
`)&&!e.match(/[^\r]\n/)}function An(e){return!e.includes(`\r
`)&&e.includes(`
`)}function X(e){var n;for(n=e.length-1;n>=0&&e[n].match(/\s/);n--);return e.substring(n+1)}function q(e){var n=e.match(/^\s*/);return n?n[0]:""}var Ie=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),re="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",qe=new RegExp("[".concat(re,"]+|\\s+|[^").concat(re,"]"),"ug"),ze=function(e){Ie(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.equals=function(t,r,a){return a.ignoreCase&&(t=t.toLowerCase(),r=r.toLowerCase()),t.trim()===r.trim()},n.prototype.tokenize=function(t,r){r===void 0&&(r={});var a;if(r.intlSegmenter){var i=r.intlSegmenter;if(i.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');a=Array.from(i.segment(t),function(h){return h.segment})}else a=t.match(qe)||[];var o=[],l=null;return a.forEach(function(h){/\s/.test(h)?l==null?o.push(h):o.push(o.pop()+h):l!=null&&/\s/.test(l)?o[o.length-1]==l?o.push(o.pop()+h):o.push(l+h):o.push(h),l=h}),o},n.prototype.join=function(t){return t.map(function(r,a){return a==0?r:r.replace(/^\s+/,"")}).join("")},n.prototype.postProcess=function(t,r){if(!t||r.oneChangePerToken)return t;var a=null,i=null,o=null;return t.forEach(function(l){l.added?i=l:l.removed?o=l:((i||o)&&Te(a,o,i,l),a=l,i=null,o=null)}),(i||o)&&Te(a,o,i,null),t},n}(z),Ve=new ze;function Fe(e,n,t){return t?.ignoreWhitespace!=null&&!t.ignoreWhitespace?xe(e,n,t):Ve.diff(e,n,t)}function Te(e,n,t,r){if(n&&t){var a=q(n.value),i=X(n.value),o=q(t.value),l=X(t.value);if(e){var h=ge(a,o);e.value=le(e.value,o,h),n.value=x(n.value,h),t.value=x(t.value,h)}if(r){var L=Ce(i,l);r.value=fe(r.value,l,L),n.value=te(n.value,L),t.value=te(t.value,L)}}else if(t){if(e){var p=q(t.value);t.value=t.value.substring(p.length)}if(r){var p=q(r.value);r.value=r.value.substring(p.length)}}else if(e&&r){var y=q(r.value),A=q(n.value),B=X(n.value),_=ge(y,A);n.value=x(n.value,_);var D=Ce(x(y,_),B);n.value=te(n.value,D),r.value=fe(r.value,y,D),e.value=le(e.value,y,y.slice(0,y.length-D.length))}else if(r){var S=q(r.value),m=X(n.value),N=Ae(m,S);n.value=te(n.value,N)}else if(e){var I=X(e.value),g=q(n.value),N=Ae(I,g);n.value=x(n.value,N)}}var Je=function(e){Ie(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.tokenize=function(t){var r=new RegExp("(\\r?\\n)|[".concat(re,"]+|[^\\S\\n\\r]+|[^").concat(re,"]"),"ug");return t.match(r)||[]},n}(z),Qe=new Je;function xe(e,n,t){return Qe.diff(e,n,t)}function Xe(e,n){if(typeof e=="function")n.callback=e;else if(e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}var Ze=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),en=function(e){Ze(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.tokenize=Re,t}return n.prototype.equals=function(t,r,a){return a.ignoreWhitespace?((!a.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!a.newlineIsToken||!r.includes(`
`))&&(r=r.trim())):a.ignoreNewlineAtEof&&!a.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),r.endsWith(`
`)&&(r=r.slice(0,-1))),e.prototype.equals.call(this,t,r,a)},n}(z),we=new en;function De(e,n,t){return we.diff(e,n,t)}function Tn(e,n,t){return t=Xe(t,{ignoreWhitespace:!0}),we.diff(e,n,t)}function Re(e,n){n.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var a=0;a<r.length;a++){var i=r[a];a%2&&!n.newlineIsToken?t[t.length-1]+=i:t.push(i)}return t}var nn=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tn=function(e){nn(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.tokenize=function(t){return t.split(new RegExp("(?<=[.!?])(\\s+|$)"))},n}(z),rn=new tn;function Dn(e,n,t){return rn.diff(e,n,t)}var an=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),un=function(e){an(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)},n}(z),on=new un;function Nn(e,n,t){return on.diff(e,n,t)}var sn=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fn=function(e){sn(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.tokenize=Re,t}return Object.defineProperty(n.prototype,"useLongestToken",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.castInput=function(t,r){var a=r.undefinedReplacement,i=r.stringifyReplacer,o=i===void 0?function(l,h){return typeof h>"u"?a:h}:i;return typeof t=="string"?t:JSON.stringify(ce(t,null,null,o),null,"  ")},n.prototype.equals=function(t,r,a){return e.prototype.equals.call(this,t.replace(/,([\r\n])/g,"$1"),r.replace(/,([\r\n])/g,"$1"),a)},n}(z),ln=new fn;function Bn(e,n,t){return ln.diff(e,n,t)}function ce(e,n,t,r,a){n=n||[],t=t||[],r&&(e=r(a===void 0?"":a,e));var i;for(i=0;i<n.length;i+=1)if(n[i]===e)return t[i];var o;if(Object.prototype.toString.call(e)==="[object Array]"){for(n.push(e),o=new Array(e.length),t.push(o),i=0;i<e.length;i+=1)o[i]=ce(e[i],n,t,r,String(i));return n.pop(),t.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){n.push(e),o={},t.push(o);var l=[],h;for(h in e)Object.prototype.hasOwnProperty.call(e,h)&&l.push(h);for(l.sort(),i=0;i<l.length;i+=1)h=l[i],o[h]=ce(e[h],n,t,r,h);n.pop(),t.pop()}else o=e;return o}var cn=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dn=function(e){cn(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.tokenize=function(t){return t.slice()},n.prototype.join=function(t){return t},n.prototype.removeEmpty=function(t){return t},n}(z),vn=new dn;function In(e,n,t){return vn.diff(e,n,t)}var U=function(){return U=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},U.apply(this,arguments)};function hn(e){return Array.isArray(e)?e.map(function(n){return hn(n)}):U(U({},e),{hunks:e.hunks.map(function(n){return U(U({},n),{lines:n.lines.map(function(t,r){var a;return t.startsWith("\\")||t.endsWith("\r")||!((a=n.lines[r+1])===null||a===void 0)&&a.startsWith("\\")?t:t+"\r"})})})})}function pn(e){return Array.isArray(e)?e.map(function(n){return pn(n)}):U(U({},e),{hunks:e.hunks.map(function(n){return U(U({},n),{lines:n.lines.map(function(t){return t.endsWith("\r")?t.substring(0,t.length-1):t})})})})}function wn(e){return Array.isArray(e)||(e=[e]),!e.some(function(n){return n.hunks.some(function(t){return t.lines.some(function(r){return!r.startsWith("\\")&&r.endsWith("\r")})})})}function Rn(e){return Array.isArray(e)||(e=[e]),e.some(function(n){return n.hunks.some(function(t){return t.lines.some(function(r){return r.endsWith("\r")})})})&&e.every(function(n){return n.hunks.every(function(t){return t.lines.every(function(r,a){var i;return r.startsWith("\\")||r.endsWith("\r")||((i=t.lines[a+1])===null||i===void 0?void 0:i.startsWith("\\"))})})})}var ie=function(){return ie=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ie.apply(this,arguments)};function En(e){return Array.isArray(e)?e.map(function(n){return En(n)}).reverse():ie(ie({},e),{oldFileName:e.newFileName,oldHeader:e.newHeader,newFileName:e.oldFileName,newHeader:e.oldHeader,hunks:e.hunks.map(function(n){return{oldLines:n.newLines,oldStart:n.newStart,newLines:n.oldLines,newStart:n.oldStart,lines:n.lines.map(function(t){return t.startsWith("-")?"+".concat(t.slice(1)):t.startsWith("+")?"-".concat(t.slice(1)):t})}})})}var J=function(){return J=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},J.apply(this,arguments)};function Ne(e,n,t,r,a,i,o){var l;o?typeof o=="function"?l={callback:o}:l=o:l={},typeof l.context>"u"&&(l.context=4);var h=l.context;if(l.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(l.callback){var L=l.callback;De(t,r,J(J({},l),{callback:function(y){var A=p(y);L(A)}}))}else return p(De(t,r,l));function p(y){if(!y)return;y.push({value:"",lines:[]});function A(ae){return ae.map(function(ue){return" "+ue})}for(var B=[],_=0,D=0,S=[],m=1,N=1,I=0;I<y.length;I++){var g=y[I],T=g.lines||Ln(g.value);if(g.lines=T,g.added||g.removed){if(!_){var G=y[I-1];_=m,D=N,G&&(S=h>0?A(G.lines.slice(-h)):[],_-=S.length,D-=S.length)}for(var P=0,Y=T;P<Y.length;P++){var M=Y[P];S.push((g.added?"+":"-")+M)}g.added?N+=T.length:m+=T.length}else{if(_)if(T.length<=h*2&&I<y.length-2)for(var $=0,j=A(T);$<j.length;$++){var M=j[$];S.push(M)}else{for(var W=Math.min(T.length,h),V=0,Z=A(T.slice(0,W));V<Z.length;V++){var M=Z[V];S.push(M)}var k={oldStart:_,oldLines:m-_+W,newStart:D,newLines:N-D+W,lines:S};B.push(k),_=0,D=0,S=[]}m+=T.length,N+=T.length}}for(var K=0,b=B;K<b.length;K++)for(var k=b[K],I=0;I<k.lines.length;I++)k.lines[I].endsWith(`
`)?k.lines[I]=k.lines[I].slice(0,-1):(k.lines.splice(I+1,0,"\\ No newline at end of file"),I++);return{oldFileName:e,newFileName:n,oldHeader:a,newHeader:i,hunks:B}}}function de(e){if(Array.isArray(e))return e.map(de).join(`
`);var n=[];e.oldFileName==e.newFileName&&n.push("Index: "+e.oldFileName),n.push("==================================================================="),n.push("--- "+e.oldFileName+(typeof e.oldHeader>"u"?"":"	"+e.oldHeader)),n.push("+++ "+e.newFileName+(typeof e.newHeader>"u"?"":"	"+e.newHeader));for(var t=0;t<e.hunks.length;t++){var r=e.hunks[t];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),n.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@");for(var a=0,i=r.lines;a<i.length;a++){var o=i[a];n.push(o)}}return n.join(`
`)+`
`}function yn(e,n,t,r,a,i,o){if(typeof o=="function"&&(o={callback:o}),o?.callback){var h=o.callback;Ne(e,n,t,r,a,i,J(J({},o),{callback:function(L){h(L?de(L):void 0)}}))}else{var l=Ne(e,n,t,r,a,i,o);return l?de(l):void 0}}function jn(e,n,t,r,a,i){return yn(e,e,n,t,r,a,i)}function Ln(e){var n=e.endsWith(`
`),t=e.split(`
`).map(function(r){return r+`
`});return n?t.pop():t.push(t.pop().slice(0,-1)),t}function Be(e,n){const t=Fe(e,n),r=[],a=[];for(const i of t)i.removed?r.push(E.jsx("span",{className:"diff-removed",children:i.value},r.length)):i.added?a.push(E.jsx("span",{className:"diff-added",children:i.value},a.length)):(r.push(E.jsx("span",{className:"diff-unchanged",children:i.value},r.length)),a.push(E.jsx("span",{className:"diff-unchanged",children:i.value},a.length)));return{originalParts:r,modifiedParts:a}}function mn(e,n){const t=Math.max(e.length,n.length),r=[],a=[];for(let i=0;i<t;i++){const o=e[i]??"",l=n[i]??"";o===l?(r.push(E.jsx("div",{className:"diff-unchanged-line",children:o},`orig-${i}`)),a.push(E.jsx("div",{className:"diff-unchanged-line",children:l},`mod-${i}`))):(r.push(E.jsx("div",{className:o?"diff-removed-line":"diff-blank-line",children:o},`orig-${i}`)),a.push(E.jsx("div",{className:l?"diff-added-line":"diff-blank-line",children:l},`mod-${i}`)))}return{originalParts:r,modifiedParts:a}}const On=({original:e,modified:n,className:t="",viewMode:r="side-by-side",caseSensitive:a=!0,compareMode:i="text"})=>{const o=typeof e=="string"&&typeof n=="string",l=Array.isArray(e)&&Array.isArray(n),h=Oe(e)&&Oe(n),[L,p]=ye.useState(null);ye.useEffect(()=>{let B=!1;return h&&(p(null),Ue(e,n,i,a,Be).then(_=>{B||p(_)})),()=>{B=!0}},[e,n,i,a,h]);let y=[],A=[];return o?{originalParts:y,modifiedParts:A}=Be(e,n):l?{originalParts:y,modifiedParts:A}=mn(e,n):h&&(L?(y=L.originalParts,A=L.modifiedParts):(y=[E.jsx("div",{children:"Loading..."},"loading")],A=[E.jsx("div",{children:"Loading..."},"loading")])),!o&&!l&&!h?E.jsx("div",{className:`compare-error ${t}`,children:"Error: Invalid input for comparison."}):r==="inline"?E.jsx("div",{className:`compare-inline ${t}`,children:E.jsxs("div",{className:"compare-content",children:[y,A]})}):E.jsxs("div",{className:`compare-side-by-side ${t}`,children:[E.jsxs("div",{className:"compare-panel",children:[E.jsx("div",{className:"compare-header original-header",children:"Original"}),E.jsx("div",{className:"compare-content original-content",children:y})]}),E.jsxs("div",{className:"compare-panel",children:[E.jsx("div",{className:"compare-header modified-header",children:"Modified"}),E.jsx("div",{className:"compare-content modified-content",children:A})]})]})};On.__docgenInfo={description:"",methods:[],displayName:"Compare",props:{original:{required:!0,tsType:{name:"union",raw:"string | string[] | Document",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Document"}]},description:""},modified:{required:!0,tsType:{name:"union",raw:"string | string[] | Document",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Document"}]},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},viewMode:{required:!1,tsType:{name:"union",raw:"'side-by-side' | 'inline'",elements:[{name:"literal",value:"'side-by-side'"},{name:"literal",value:"'inline'"}]},description:"",defaultValue:{value:"'side-by-side'",computed:!1}},caseSensitive:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},compareMode:{required:!1,tsType:{name:"union",raw:"'text' | 'structure'",elements:[{name:"literal",value:"'text'"},{name:"literal",value:"'structure'"}]},description:"",defaultValue:{value:"'text'",computed:!1}}}};export{jn as A,de as B,On as C,z as D,En as E,ce as F,An as a,Rn as b,gn as c,H as d,Ye as e,Fe as f,Ve as g,Cn as h,wn as i,xe as j,Qe as k,De as l,we as m,Tn as n,Dn as o,Nn as p,on as q,Bn as r,rn as s,ln as t,hn as u,In as v,pn as w,vn as x,Ne as y,yn as z};
