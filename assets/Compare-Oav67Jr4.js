import{j as v}from"./jsx-runtime-xIpiJ28I.js";var Y=function(){function e(){}return e.prototype.diff=function(n,t,r){r===void 0&&(r={});var a;typeof r=="function"?(a=r,r={}):"callback"in r&&(a=r.callback);var i=this.castInput(n,r),l=this.castInput(t,r),h=this.removeEmpty(this.tokenize(i,r)),p=this.removeEmpty(this.tokenize(l,r));return this.diffWithOptionsObj(h,p,r,a)},e.prototype.diffWithOptionsObj=function(n,t,r,a){var i=this,l,h=function(m){if(m=i.postProcess(m,r),a){setTimeout(function(){a(m)},0);return}else return m},p=t.length,T=n.length,_=1,N=p+T;r.maxEditLength!=null&&(N=Math.min(N,r.maxEditLength));var R=(l=r.timeout)!==null&&l!==void 0?l:1/0,K=Date.now()+R,g=[{oldPos:-1,lastComponent:void 0}],D=this.extractCommon(g[0],t,n,0,r);if(g[0].oldPos+1>=T&&D+1>=p)return h(this.buildValues(g[0].lastComponent,t,n));var B=-1/0,A=1/0,I=function(){for(var m=Math.max(B,-_);m<=Math.min(A,_);m+=2){var y=void 0,E=g[m-1],L=g[m+1];E&&(g[m-1]=void 0);var U=!1;if(L){var V=L.oldPos-m;U=L&&0<=V&&V<p}var M=E&&E.oldPos+1<T;if(!U&&!M){g[m]=void 0;continue}if(!M||U&&E.oldPos<L.oldPos?y=i.addToPath(L,!0,!1,0,r):y=i.addToPath(E,!1,!0,1,r),D=i.extractCommon(y,t,n,m,r),y.oldPos+1>=T&&D+1>=p)return h(i.buildValues(y.lastComponent,t,n))||!0;g[m]=y,y.oldPos+1>=T&&(A=Math.min(A,m-1)),D+1>=p&&(B=Math.max(B,m+1))}_++};if(a)(function m(){setTimeout(function(){if(_>N||Date.now()>K)return a(void 0);I()||m()},0)})();else for(;_<=N&&Date.now()<=K;){var S=I();if(S)return S}},e.prototype.addToPath=function(n,t,r,a,i){var l=n.lastComponent;return l&&!i.oneChangePerToken&&l.added===t&&l.removed===r?{oldPos:n.oldPos+a,lastComponent:{count:l.count+1,added:t,removed:r,previousComponent:l.previousComponent}}:{oldPos:n.oldPos+a,lastComponent:{count:1,added:t,removed:r,previousComponent:l}}},e.prototype.extractCommon=function(n,t,r,a,i){for(var l=t.length,h=r.length,p=n.oldPos,T=p-a,_=0;T+1<l&&p+1<h&&this.equals(r[p+1],t[T+1],i);)T++,p++,_++,i.oneChangePerToken&&(n.lastComponent={count:1,previousComponent:n.lastComponent,added:!1,removed:!1});return _&&!i.oneChangePerToken&&(n.lastComponent={count:_,previousComponent:n.lastComponent,added:!1,removed:!1}),n.oldPos=p,T},e.prototype.equals=function(n,t,r){return r.comparator?r.comparator(n,t):n===t||!!r.ignoreCase&&n.toLowerCase()===t.toLowerCase()},e.prototype.removeEmpty=function(n){for(var t=[],r=0;r<n.length;r++)n[r]&&t.push(n[r]);return t},e.prototype.castInput=function(n,t){return n},e.prototype.tokenize=function(n,t){return Array.from(n)},e.prototype.join=function(n){return n.join("")},e.prototype.postProcess=function(n,t){return n},Object.defineProperty(e.prototype,"useLongestToken",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.buildValues=function(n,t,r){for(var a=[],i;n;)a.push(n),i=n.previousComponent,delete n.previousComponent,n=i;a.reverse();for(var l=a.length,h=0,p=0,T=0;h<l;h++){var _=a[h];if(_.removed)_.value=this.join(r.slice(T,T+_.count)),T+=_.count;else{if(!_.added&&this.useLongestToken){var N=t.slice(p,p+_.count);N=N.map(function(R,K){var g=r[T+K];return g.length>R.length?g:R}),_.value=this.join(N)}else _.value=this.join(t.slice(p,p+_.count));p+=_.count,_.added||(T+=_.count)}}return a},e}(),Be=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ie=function(e){Be(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Y);new Ie;function le(e,n){var t;for(t=0;t<e.length&&t<n.length;t++)if(e[t]!=n[t])return e.slice(0,t);return e.slice(0,t)}function ce(e,n){var t;if(!e||!n||e[e.length-1]!=n[n.length-1])return"";for(t=0;t<e.length&&t<n.length;t++)if(e[e.length-(t+1)]!=n[n.length-(t+1)])return e.slice(-t);return e.slice(-t)}function te(e,n,t){if(e.slice(0,n.length)!=n)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(n),"; this is a bug"));return t+e.slice(n.length)}function re(e,n,t){if(!n)return e+t;if(e.slice(-n.length)!=n)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(n),"; this is a bug"));return e.slice(0,-n.length)+t}function k(e,n){return te(e,n,"")}function F(e,n){return re(e,n,"")}function fe(e,n){return n.slice(0,je(e,n))}function je(e,n){var t=0;e.length>n.length&&(t=e.length-n.length);var r=n.length;e.length<n.length&&(r=e.length);var a=Array(r),i=0;a[0]=0;for(var l=1;l<r;l++){for(n[l]==n[i]?a[l]=a[i]:a[l]=i;i>0&&n[l]!=n[i];)i=a[i];n[l]==n[i]&&i++}i=0;for(var h=t;h<e.length;h++){for(;i>0&&e[h]!=n[i];)i=a[i];e[h]==n[i]&&i++}return i}function x(e){var n;for(n=e.length-1;n>=0&&e[n].match(/\s/);n--);return e.substring(n+1)}function $(e){var n=e.match(/^\s*/);return n?n[0]:""}var me=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),X="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Re=new RegExp("[".concat(X,"]+|\\s+|[^").concat(X,"]"),"ug"),Ke=function(e){me(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.equals=function(t,r,a){return a.ignoreCase&&(t=t.toLowerCase(),r=r.toLowerCase()),t.trim()===r.trim()},n.prototype.tokenize=function(t,r){r===void 0&&(r={});var a;if(r.intlSegmenter){var i=r.intlSegmenter;if(i.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');a=Array.from(i.segment(t),function(p){return p.segment})}else a=t.match(Re)||[];var l=[],h=null;return a.forEach(function(p){/\s/.test(p)?h==null?l.push(p):l.push(l.pop()+p):h!=null&&/\s/.test(h)?l[l.length-1]==h?l.push(l.pop()+p):l.push(h+p):l.push(p),h=p}),l},n.prototype.join=function(t){return t.map(function(r,a){return a==0?r:r.replace(/^\s+/,"")}).join("")},n.prototype.postProcess=function(t,r){if(!t||r.oneChangePerToken)return t;var a=null,i=null,l=null;return t.forEach(function(h){h.added?i=h:h.removed?l=h:((i||l)&&ve(a,l,i,h),a=h,i=null,l=null)}),(i||l)&&ve(a,l,i,null),t},n}(Y),we=new Ke;function de(e,n,t){return t?.ignoreWhitespace!=null&&!t.ignoreWhitespace?Ge(e,n,t):we.diff(e,n,t)}function ve(e,n,t,r){if(n&&t){var a=$(n.value),i=x(n.value),l=$(t.value),h=x(t.value);if(e){var p=le(a,l);e.value=re(e.value,l,p),n.value=k(n.value,p),t.value=k(t.value,p)}if(r){var T=ce(i,h);r.value=te(r.value,h,T),n.value=F(n.value,T),t.value=F(t.value,T)}}else if(t){if(e){var _=$(t.value);t.value=t.value.substring(_.length)}if(r){var _=$(r.value);r.value=r.value.substring(_.length)}}else if(e&&r){var N=$(r.value),R=$(n.value),K=x(n.value),g=le(N,R);n.value=k(n.value,g);var D=ce(k(N,g),K);n.value=F(n.value,D),r.value=te(r.value,N,D),e.value=re(e.value,N,N.slice(0,N.length-D.length))}else if(r){var B=$(r.value),A=x(n.value),I=fe(A,B);n.value=F(n.value,I)}else if(e){var S=x(e.value),m=$(n.value),I=fe(S,m);n.value=k(n.value,I)}}var Pe=function(e){me(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.tokenize=function(t){var r=new RegExp("(\\r?\\n)|[".concat(X,"]+|[^\\S\\n\\r]+|[^").concat(X,"]"),"ug");return t.match(r)||[]},n}(Y),He=new Pe;function Ge(e,n,t){return He.diff(e,n,t)}var Me=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),be=function(e){Me(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.tokenize=Oe,t}return n.prototype.equals=function(t,r,a){return a.ignoreWhitespace?((!a.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!a.newlineIsToken||!r.includes(`
`))&&(r=r.trim())):a.ignoreNewlineAtEof&&!a.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),r.endsWith(`
`)&&(r=r.slice(0,-1))),e.prototype.equals.call(this,t,r,a)},n}(Y);new be;function Oe(e,n){n.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var a=0;a<r.length;a++){var i=r[a];a%2&&!n.newlineIsToken?t[t.length-1]+=i:t.push(i)}return t}var Ue=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$e=function(e){Ue(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.tokenize=function(t){return t.split(new RegExp("(?<=[.!?])(\\s+|$)"))},n}(Y);new $e;var Ye=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ze=function(e){Ye(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)},n}(Y);new ze;var qe=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ve=function(e){qe(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.tokenize=Oe,t}return Object.defineProperty(n.prototype,"useLongestToken",{get:function(){return!0},enumerable:!1,configurable:!0}),n.prototype.castInput=function(t,r){var a=r.undefinedReplacement,i=r.stringifyReplacer,l=i===void 0?function(h,p){return typeof p>"u"?a:p}:i;return typeof t=="string"?t:JSON.stringify(ie(t,null,null,l),null,"  ")},n.prototype.equals=function(t,r,a){return e.prototype.equals.call(this,t.replace(/,([\r\n])/g,"$1"),r.replace(/,([\r\n])/g,"$1"),a)},n}(Y);new Ve;function ie(e,n,t,r,a){n=n||[],t=t||[],r&&(e=r(a===void 0?"":a,e));var i;for(i=0;i<n.length;i+=1)if(n[i]===e)return t[i];var l;if(Object.prototype.toString.call(e)==="[object Array]"){for(n.push(e),l=new Array(e.length),t.push(l),i=0;i<e.length;i+=1)l[i]=ie(e[i],n,t,r,String(i));return n.pop(),t.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){n.push(e),l={},t.push(l);var h=[],p;for(p in e)Object.prototype.hasOwnProperty.call(e,p)&&h.push(p);for(h.sort(),i=0;i<h.length;i+=1)p=h[i],l[p]=ie(e[p],n,t,r,p);n.pop(),t.pop()}else l=e;return l}var We=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ke=function(e){We(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.tokenize=function(t){return t.slice()},n.prototype.join=function(t){return t},n.prototype.removeEmpty=function(t){return t},n}(Y),xe=new ke;function Je(e,n,t){return xe.diff(e,n,t)}var ee={},ne,he;function Qe(){return he||(he=1,ne=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.prototype}),ne}var pe;function Fe(){return pe||(pe=1,function(e){var n=Qe();e.BLOCKS=void 0,function(u){u.DOCUMENT="document",u.PARAGRAPH="paragraph",u.HEADING_1="heading-1",u.HEADING_2="heading-2",u.HEADING_3="heading-3",u.HEADING_4="heading-4",u.HEADING_5="heading-5",u.HEADING_6="heading-6",u.OL_LIST="ordered-list",u.UL_LIST="unordered-list",u.LIST_ITEM="list-item",u.HR="hr",u.QUOTE="blockquote",u.EMBEDDED_ENTRY="embedded-entry-block",u.EMBEDDED_ASSET="embedded-asset-block",u.EMBEDDED_RESOURCE="embedded-resource-block",u.TABLE="table",u.TABLE_ROW="table-row",u.TABLE_CELL="table-cell",u.TABLE_HEADER_CELL="table-header-cell"}(e.BLOCKS||(e.BLOCKS={})),e.INLINES=void 0,function(u){u.ASSET_HYPERLINK="asset-hyperlink",u.EMBEDDED_ENTRY="embedded-entry-inline",u.EMBEDDED_RESOURCE="embedded-resource-inline",u.ENTRY_HYPERLINK="entry-hyperlink",u.HYPERLINK="hyperlink",u.RESOURCE_HYPERLINK="resource-hyperlink"}(e.INLINES||(e.INLINES={})),e.MARKS=void 0,function(u){u.BOLD="bold",u.ITALIC="italic",u.UNDERLINE="underline",u.CODE="code",u.SUPERSCRIPT="superscript",u.SUBSCRIPT="subscript",u.STRIKETHROUGH="strikethrough"}(e.MARKS||(e.MARKS={}));var t=function(u,f){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(c[s]=o[s])},t(u,f)};function r(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");t(u,f);function c(){this.constructor=u}u.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}function a(u,f,c){if(c||arguments.length===2)for(var o=0,s=f.length,d;o<s;o++)(d||!(o in f))&&(d||(d=Array.prototype.slice.call(f,0,o)),d[o]=f[o]);return u.concat(d||Array.prototype.slice.call(f))}typeof SuppressedError=="function"&&SuppressedError;var i,l=[e.BLOCKS.PARAGRAPH,e.BLOCKS.HEADING_1,e.BLOCKS.HEADING_2,e.BLOCKS.HEADING_3,e.BLOCKS.HEADING_4,e.BLOCKS.HEADING_5,e.BLOCKS.HEADING_6,e.BLOCKS.OL_LIST,e.BLOCKS.UL_LIST,e.BLOCKS.HR,e.BLOCKS.QUOTE,e.BLOCKS.EMBEDDED_ENTRY,e.BLOCKS.EMBEDDED_ASSET,e.BLOCKS.EMBEDDED_RESOURCE,e.BLOCKS.TABLE],h=[e.BLOCKS.PARAGRAPH,e.BLOCKS.HEADING_1,e.BLOCKS.HEADING_2,e.BLOCKS.HEADING_3,e.BLOCKS.HEADING_4,e.BLOCKS.HEADING_5,e.BLOCKS.HEADING_6,e.BLOCKS.OL_LIST,e.BLOCKS.UL_LIST,e.BLOCKS.HR,e.BLOCKS.QUOTE,e.BLOCKS.EMBEDDED_ENTRY,e.BLOCKS.EMBEDDED_ASSET,e.BLOCKS.EMBEDDED_RESOURCE],p=[e.BLOCKS.TABLE,e.BLOCKS.TABLE_ROW,e.BLOCKS.TABLE_CELL,e.BLOCKS.TABLE_HEADER_CELL],T=[e.BLOCKS.HR,e.BLOCKS.EMBEDDED_ENTRY,e.BLOCKS.EMBEDDED_ASSET,e.BLOCKS.EMBEDDED_RESOURCE],_=(i={},i[e.BLOCKS.OL_LIST]=[e.BLOCKS.LIST_ITEM],i[e.BLOCKS.UL_LIST]=[e.BLOCKS.LIST_ITEM],i[e.BLOCKS.LIST_ITEM]=h,i[e.BLOCKS.QUOTE]=[e.BLOCKS.PARAGRAPH],i[e.BLOCKS.TABLE]=[e.BLOCKS.TABLE_ROW],i[e.BLOCKS.TABLE_ROW]=[e.BLOCKS.TABLE_CELL,e.BLOCKS.TABLE_HEADER_CELL],i[e.BLOCKS.TABLE_CELL]=[e.BLOCKS.PARAGRAPH,e.BLOCKS.UL_LIST,e.BLOCKS.OL_LIST],i[e.BLOCKS.TABLE_HEADER_CELL]=[e.BLOCKS.PARAGRAPH],i),N=[e.BLOCKS.HEADING_1,e.BLOCKS.HEADING_2,e.BLOCKS.HEADING_3,e.BLOCKS.HEADING_4,e.BLOCKS.HEADING_5,e.BLOCKS.HEADING_6],R=a([e.BLOCKS.PARAGRAPH],N,!0),K=[e.BLOCKS.DOCUMENT,e.BLOCKS.PARAGRAPH,e.BLOCKS.HEADING_1,e.BLOCKS.HEADING_2,e.BLOCKS.HEADING_3,e.BLOCKS.HEADING_4,e.BLOCKS.HEADING_5,e.BLOCKS.HEADING_6,e.BLOCKS.OL_LIST,e.BLOCKS.UL_LIST,e.BLOCKS.LIST_ITEM,e.BLOCKS.HR,e.BLOCKS.QUOTE,e.BLOCKS.EMBEDDED_ENTRY,e.BLOCKS.EMBEDDED_ASSET,e.INLINES.HYPERLINK,e.INLINES.ENTRY_HYPERLINK,e.INLINES.ASSET_HYPERLINK,e.INLINES.EMBEDDED_ENTRY,"text"],g=[e.MARKS.BOLD,e.MARKS.CODE,e.MARKS.ITALIC,e.MARKS.UNDERLINE],D={nodeType:e.BLOCKS.DOCUMENT,data:{},content:[{nodeType:e.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};function B(u,f){for(var c=0,o=Object.keys(u);c<o.length;c++){var s=o[c];if(f===u[s])return!0}return!1}function A(u){return B(e.INLINES,u.nodeType)}function I(u){return B(e.BLOCKS,u.nodeType)}function S(u){return u.nodeType==="text"}var m=Object.freeze({__proto__:null,isBlock:I,isInline:A,isText:S}),y=function(u){var f=u.path,c=u.property,o=u.typeName,s=u.value;return{details:'The type of "'.concat(c,'" is incorrect, expected type: ').concat(o),name:"type",path:f.toArray(),type:o,value:s}},E=function(u){var f=u.min,c=u.value,o=u.path;return{name:"size",min:f,path:o.toArray(),details:"Size must be at least ".concat(f),value:c}},L=function(u){var f=u.max,c=u.value,o=u.path;return{name:"size",max:f,path:o.toArray(),details:"Size must be at most ".concat(f),value:c}},U=function(u){var f=u.expected,c=u.value,o=u.path;return{details:"Value must be one of expected values",name:"in",expected:a([],f,!0).sort(),path:o.toArray(),value:c}},V=function(u){var f=u.property,c=u.path;return{details:'The property "'.concat(f,'" is not expected'),name:"unexpected",path:c.toArray()}},M=function(u){var f=u.property,c=u.path;return{details:'The property "'.concat(f,'" is required here'),name:"required",path:c.toArray()}},j=function(){function u(f,c){var o=this;this.obj=f,this.path=c,this._errors=[],this.catch=function(){for(var s,d=[],O=0;O<arguments.length;O++)d[O]=arguments[O];(s=o._errors).push.apply(s,d)},this.exists=function(s){return s in o.obj?!0:(o.catch(M({property:s,path:o.path.of(s)})),!1)},this.object=function(s){var d,O=s?o.obj[s]:o.obj;if(s&&!o.exists(s))return!1;if(n(O))return!0;var P=s?o.path.of(s):o.path,w=(d=s??o.path.last())!==null&&d!==void 0?d:"value";return o.catch(y({typeName:"Object",property:w,path:P,value:O})),!1},this.string=function(s){var d=o.obj[s];return s&&!o.exists(s)?!1:typeof d=="string"?!0:(o.catch(y({typeName:"String",property:s,path:o.path.of(s),value:d})),!1)},this.number=function(s,d){var O=o.obj[s];return d&&!(s in o.obj)?!0:o.exists(s)?typeof O=="number"&&!Number.isNaN(O)?!0:(o.catch(y({typeName:"Number",property:s,path:o.path.of(s),value:O})),!1):!1},this.array=function(s){var d=o.obj[s];return s&&!o.exists(s)?!1:Array.isArray(d)?!0:(o.catch(y({typeName:"Array",property:s,path:o.path.of(s),value:d})),!1)},this.enum=function(s,d){var O=o.obj[s];return typeof O=="string"&&d.includes(O)?!0:(o.catch(U({expected:d,value:O,path:o.path.of(s)})),!1)},this.empty=function(s){if(!o.array(s))return!1;var d=o.obj[s];return d.length===0?!0:(o.catch(L({max:0,value:d,path:o.path.of(s)})),!1)},this.minLength=function(s,d){if(!o.array(s))return!1;var O=o.obj[s];return O.length>=d?!0:(o.catch(E({min:d,value:O,path:o.path.of(s)})),!1)},this.noAdditionalProperties=function(s){var d=Object.keys(o.obj).sort().filter(function(O){return!s.includes(O)});return d.forEach(function(O){return o.catch(V({property:O,path:o.path.of(O)}))}),d.length===0},this.each=function(s,d){if(o.array(s)){var O=o.obj[s],P=!1;O.forEach(function(w,W){if(!P){var J=d(w,o.path.of(s).of(W));J.length>0&&(P=!0),o.catch.apply(o,J)}})}}}return Object.defineProperty(u.prototype,"errors",{get:function(){var f=this,c=function(o){return JSON.stringify({details:o.details,path:o.path})};return this._errors.filter(function(o,s){return f._errors.findIndex(function(d){return c(o)===c(d)})===s})},enumerable:!1,configurable:!0}),u}(),G=[],Z=function(){function u(f,c){this.contentRule=f,this.validateData=c}return u.prototype.assert=function(f,c){var o,s,d=new j(f,c);if(!d.object())return d.errors;d.noAdditionalProperties(["nodeType","data","content"]);var O=Array.isArray(this.contentRule)?{nodeTypes:this.contentRule}:this.contentRule(f,c),P=O.nodeTypes,w=O.min,W=w===void 0?0:w;if(P.length===0&&W>0)throw new Error("Invalid content rule. Cannot have enforce a 'min' of ".concat(W," with no nodeTypes"));if(d.minLength("content",W),P.length===0?d.empty("content"):d.each("content",function(Ne,De){var Q=new j(Ne,De);return Q.object()&&Q.enum("nodeType",P),Q.errors}),d.object("data")){var J=(s=(o=this.validateData)===null||o===void 0?void 0:o.call(this,f.data,c.of("data")))!==null&&s!==void 0?s:[];d.catch.apply(d,J)}return d.errors},u}(),_e=function(u){r(f,u);function f(c,o){var s=u.call(this,o,function(d,O){return s.assertLink(d,O)})||this;return s.linkType=c,s.assertLink=function(d,O){var P=new j(d,O);if(P.object("target")){var w=new j(d.target.sys,O.of("target").of("sys"));w.object()&&(w.enum("type",[s.type]),w.enum("linkType",[s.linkType]),s.type==="Link"?(w.string("id"),w.noAdditionalProperties(["type","linkType","id"])):s.type==="ResourceLink"&&(w.string("urn"),w.noAdditionalProperties(["type","linkType","urn"]))),P.catch.apply(P,w.errors)}return P.noAdditionalProperties(["target"]),P.errors},s.type=s.linkType.startsWith("Contentful:")?"ResourceLink":"Link",s}return f}(Z),Ce=function(u){r(f,u);function f(){var c=u.call(this,["text"],function(o,s){return c.assertLink(o,s)})||this;return c.assertLink=function(o,s){var d=new j(o,s);return d.string("uri"),d.noAdditionalProperties(["uri"]),d.errors},c}return f}(Z),b=function(u,f){return new Z(u,f)},z=function(u,f){return new _e(u,f)},Se=function(){function u(f){f===void 0&&(f=[]);var c=this;this.path=f,this.of=function(o){return new u(a(a([],c.path,!0),[o],!1))},this.isRoot=function(){return c.path.length===0},this.last=function(){return c.path[c.path.length-1]},this.toArray=function(){return c.path}}return u}();function ge(u,f){var c=new j(u,f);return c.object()&&(c.noAdditionalProperties(["nodeType","data","value","marks"]),c.object("data"),c.each("marks",function(o,s){var d=new j(o,s);return d.object()&&d.string("type"),d.errors}),c.string("value")),c.errors}var C,q=b(a(a([],Object.values(e.INLINES),!0),["text"],!1).sort()),ae=b([e.BLOCKS.LIST_ITEM]),ue=z("Entry",G),oe=b(function(){return{nodeTypes:[e.BLOCKS.PARAGRAPH],min:1}},function(u,f){var c=new j(u,f);return c.noAdditionalProperties(["colspan","rowspan"]),c.number("colspan",!0),c.number("rowspan",!0),c.errors}),Te=(C={},C[e.BLOCKS.DOCUMENT]=b(l),C[e.BLOCKS.PARAGRAPH]=q,C[e.BLOCKS.HEADING_1]=q,C[e.BLOCKS.HEADING_2]=q,C[e.BLOCKS.HEADING_3]=q,C[e.BLOCKS.HEADING_4]=q,C[e.BLOCKS.HEADING_5]=q,C[e.BLOCKS.HEADING_6]=q,C[e.BLOCKS.QUOTE]=b(_[e.BLOCKS.QUOTE]),C[e.BLOCKS.EMBEDDED_ENTRY]=ue,C[e.BLOCKS.EMBEDDED_ASSET]=z("Asset",G),C[e.BLOCKS.EMBEDDED_RESOURCE]=z("Contentful:Entry",G),C[e.BLOCKS.HR]=b(G),C[e.BLOCKS.OL_LIST]=ae,C[e.BLOCKS.UL_LIST]=ae,C[e.BLOCKS.LIST_ITEM]=b(a([],h,!0).sort()),C[e.BLOCKS.TABLE]=b(function(){return{nodeTypes:[e.BLOCKS.TABLE_ROW],min:1}}),C[e.BLOCKS.TABLE_ROW]=b(function(){return{nodeTypes:[e.BLOCKS.TABLE_CELL,e.BLOCKS.TABLE_HEADER_CELL],min:1}}),C[e.BLOCKS.TABLE_CELL]=oe,C[e.BLOCKS.TABLE_HEADER_CELL]=oe,C[e.INLINES.HYPERLINK]=new Ce,C[e.INLINES.EMBEDDED_ENTRY]=ue,C[e.INLINES.EMBEDDED_RESOURCE]=z("Contentful:Entry",G),C[e.INLINES.ENTRY_HYPERLINK]=z("Entry",["text"]),C[e.INLINES.ASSET_HYPERLINK]=z("Asset",["text"]),C[e.INLINES.RESOURCE_HYPERLINK]=z("Contentful:Entry",["text"]),C);function se(u,f){if(u.nodeType==="text")return ge(u,f);var c=Te[u.nodeType].assert(u,f);if(c.length>0)return c;var o=new j(u,f);return o.each("content",function(s,d){return se(s,d)}),o.errors}var Ae=function(u){var f=new Se,c=new j(u,f);return c.object()&&c.enum("nodeType",[e.BLOCKS.DOCUMENT]),c.errors.length>0?c.errors:se(u,f)};e.CONTAINERS=_,e.EMPTY_DOCUMENT=D,e.HEADINGS=N,e.LIST_ITEM_BLOCKS=h,e.TABLE_BLOCKS=p,e.TEXT_CONTAINERS=R,e.TOP_LEVEL_BLOCKS=l,e.V1_MARKS=g,e.V1_NODE_TYPES=K,e.VOID_BLOCKS=T,e.helpers=m,e.validateRichTextDocument=Ae}(ee)),ee}var H=Fe();const Ee=e=>{const n=t=>t.nodeType==="text"?t.value:"content"in t&&t.content?t.content.map(r=>n(r)).join(""):"";return n(e)},ye=e=>{const n=[],t=r=>{if(r.nodeType!=="text"&&"content"in r&&r.content){const a=r.content.map(h=>h.nodeType==="text"?h.value:"").join("");let i=r.nodeType,l;switch(r.nodeType){case H.BLOCKS.HEADING_1:i="Heading",l=1;break;case H.BLOCKS.HEADING_2:i="Heading",l=2;break;case H.BLOCKS.HEADING_3:i="Heading",l=3;break;case H.BLOCKS.HEADING_4:i="Heading",l=4;break;case H.BLOCKS.HEADING_5:i="Heading",l=5;break;case H.BLOCKS.HEADING_6:i="Heading",l=6;break;case H.BLOCKS.PARAGRAPH:i="Text";break;case H.BLOCKS.UL_LIST:i="List";break;case H.BLOCKS.OL_LIST:i="Numbered List";break;case H.BLOCKS.LIST_ITEM:i="List Item";break;case H.BLOCKS.QUOTE:i="Quote";break;case H.BLOCKS.TABLE:i="Table";break;default:i=r.nodeType.charAt(0).toUpperCase()+r.nodeType.slice(1)}a.trim()&&n.push({type:i,content:a.trim(),level:l}),r.content.forEach(h=>{h.nodeType!=="text"&&t(h)})}};return e.content&&e.content.forEach(r=>t(r)),n},Le=e=>e&&typeof e=="object"&&e.nodeType===H.BLOCKS.DOCUMENT&&Array.isArray(e.content),Xe=({original:e,modified:n,className:t="",viewMode:r="side-by-side",caseSensitive:a=!0,compareMode:i="text"})=>{const l=(g,D)=>{const B=de(g,D,{ignoreCase:!a}),A=[],I=[];for(const S of B)S.removed?A.push(v.jsx("span",{className:"diff-removed",children:S.value},A.length)):S.added?I.push(v.jsx("span",{className:"diff-added",children:S.value},I.length)):(A.push(v.jsx("span",{className:"diff-unchanged",children:S.value},A.length)),I.push(v.jsx("span",{className:"diff-unchanged",children:S.value},I.length)));return{originalParts:A,modifiedParts:I}},h=(g,D)=>{let B=g,A=D;a||(B=g.map(y=>typeof y=="string"?y.toLowerCase():y),A=D.map(y=>typeof y=="string"?y.toLowerCase():y));const I=Je(B,A),S=[],m=[];for(const y of I)y.removed?y.value.forEach((E,L)=>{S.push(v.jsx("div",{className:"diff-removed-line",children:g[B.indexOf(E,S.length)]??E},`${S.length}-${L}`))}):y.added?y.value.forEach((E,L)=>{m.push(v.jsx("div",{className:"diff-added-line",children:D[A.indexOf(E,m.length)]??E},`${m.length}-${L}`))}):y.value.forEach((E,L)=>{S.push(v.jsx("div",{className:"diff-unchanged-line",children:g[B.indexOf(E,S.length)]??E},`${S.length}-${L}`)),m.push(v.jsx("div",{className:"diff-unchanged-line",children:D[A.indexOf(E,m.length)]??E},`${m.length}-${L}`))});return{originalParts:S,modifiedParts:m}},p=(g,D)=>{if(i==="structure"){const B=ye(g),A=ye(D),I=Math.max(B.length,A.length),S=[],m=[];for(let y=0;y<I;y++){const E=B[y],L=A[y];if(!E&&L)m.push(v.jsxs("div",{className:"diff-added-line",children:[v.jsx("span",{className:"diff-structure-type",children:L.type}),L.level&&v.jsxs("span",{className:"diff-structure-level",children:[" H",L.level]}),v.jsxs("span",{className:"diff-structure-content",children:[": ",L.content]})]},`added-${y}`));else if(E&&!L)S.push(v.jsxs("div",{className:"diff-removed-line",children:[v.jsx("span",{className:"diff-structure-type",children:E.type}),E.level&&v.jsxs("span",{className:"diff-structure-level",children:[" H",E.level]}),v.jsxs("span",{className:"diff-structure-content",children:[": ",E.content]})]},`removed-${y}`));else if(E&&L){const U=E.type===L.type&&E.level===L.level;if(U&&E.content!==L.content){const V=de(E.content,L.content,{ignoreCase:!a}),M=[],j=[];for(const G of V)G.removed?M.push(v.jsx("span",{className:"diff-removed",children:G.value},M.length)):G.added?j.push(v.jsx("span",{className:"diff-added",children:G.value},j.length)):(M.push(v.jsx("span",{className:"diff-unchanged",children:G.value},M.length)),j.push(v.jsx("span",{className:"diff-unchanged",children:G.value},j.length)));S.push(v.jsxs("div",{className:"diff-unchanged-line",children:[v.jsx("span",{className:"diff-structure-type",children:E.type}),E.level&&v.jsxs("span",{className:"diff-structure-level",children:[" H",E.level]}),v.jsxs("span",{className:"diff-structure-content",children:[": ",M]})]},`orig-${y}`)),m.push(v.jsxs("div",{className:"diff-unchanged-line",children:[v.jsx("span",{className:"diff-structure-type",children:L.type}),L.level&&v.jsxs("span",{className:"diff-structure-level",children:[" H",L.level]}),v.jsxs("span",{className:"diff-structure-content",children:[": ",j]})]},`mod-${y}`))}else U&&E.content===L.content?(S.push(v.jsxs("div",{className:"diff-unchanged-line",children:[v.jsx("span",{className:"diff-structure-type",children:E.type}),E.level&&v.jsxs("span",{className:"diff-structure-level",children:[" H",E.level]}),v.jsxs("span",{className:"diff-structure-content",children:[": ",E.content]})]},`unchanged-orig-${y}`)),m.push(v.jsxs("div",{className:"diff-unchanged-line",children:[v.jsx("span",{className:"diff-structure-type",children:L.type}),L.level&&v.jsxs("span",{className:"diff-structure-level",children:[" H",L.level]}),v.jsxs("span",{className:"diff-structure-content",children:[": ",L.content]})]},`unchanged-mod-${y}`))):(S.push(v.jsxs("div",{className:"diff-removed-line",children:[v.jsx("span",{className:"diff-structure-type",children:E.type}),E.level&&v.jsxs("span",{className:"diff-structure-level",children:[" H",E.level]}),v.jsxs("span",{className:"diff-structure-content",children:[": ",E.content]})]},`changed-orig-${y}`)),m.push(v.jsxs("div",{className:"diff-added-line",children:[v.jsx("span",{className:"diff-structure-type",children:L.type}),L.level&&v.jsxs("span",{className:"diff-structure-level",children:[" H",L.level]}),v.jsxs("span",{className:"diff-structure-content",children:[": ",L.content]})]},`changed-mod-${y}`)))}}return{originalParts:S,modifiedParts:m}}else{const B=Ee(g),A=Ee(D);return l(B,A)}},T=typeof e=="string"&&typeof n=="string",_=Array.isArray(e)&&Array.isArray(n),N=Le(e)&&Le(n);if(!T&&!_&&!N)return v.jsx("div",{className:`compare-error ${t}`,children:"Error: Both inputs must be either strings, arrays of strings, or Contentful documents"});let R,K;return T?{originalParts:R,modifiedParts:K}=l(e,n):_?{originalParts:R,modifiedParts:K}=h(e,n):N?{originalParts:R,modifiedParts:K}=p(e,n):(R=[],K=[]),r==="inline"?v.jsx("div",{className:`compare-inline ${t}`,children:v.jsxs("div",{className:"compare-content",children:[R,K]})}):v.jsxs("div",{className:`compare-side-by-side ${t}`,children:[v.jsxs("div",{className:"compare-panel",children:[v.jsx("div",{className:"compare-header original-header",children:"Original"}),v.jsx("div",{className:"compare-content original-content",children:R})]}),v.jsxs("div",{className:"compare-panel",children:[v.jsx("div",{className:"compare-header modified-header",children:"Modified"}),v.jsx("div",{className:"compare-content modified-content",children:K})]})]})};Xe.__docgenInfo={description:"",methods:[],displayName:"Compare",props:{original:{required:!0,tsType:{name:"union",raw:"string | string[] | Document",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Document"}]},description:""},modified:{required:!0,tsType:{name:"union",raw:"string | string[] | Document",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Document"}]},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},viewMode:{required:!1,tsType:{name:"union",raw:"'side-by-side' | 'inline'",elements:[{name:"literal",value:"'side-by-side'"},{name:"literal",value:"'inline'"}]},description:"",defaultValue:{value:"'side-by-side'",computed:!1}},caseSensitive:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},compareMode:{required:!1,tsType:{name:"union",raw:"'text' | 'structure'",elements:[{name:"literal",value:"'text'"},{name:"literal",value:"'structure'"}]},description:"",defaultValue:{value:"'text'",computed:!1}}}};export{Xe as C,H as d};
